{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","thead","tbody","sortedBy","nameMap","addEventListener","e","target","innerText","reversed","rows","reverse","append","index","i","children","length","textContent","type","sort","a","b","cells","localeCompare","sortNum","sortSalary","replace","item","parentNode","activeRow","classList","remove","countryArray","form","map","country","insertAdjacentHTML","pushNotification","posTop","posRight","title","description","div","createElement","h2","p","add","style","top","right","setAttribute","setTimeout","formButton","newEmployeeName","newEmployeePosition","newEmployeeOffice","newEmployeeAge","newEmployeeSalary","addEmployee","newTr","value","trim","formSalary","stringToNumber","string","split","join","toLocaleString","oldValue","preventDefault","focus","selectionStart","event","keyCode","cellIndex","replaceWith"],"mappings":"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","file":"main.0842b2f9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\n// write code here\r\nconst body = document.querySelector('body');\r\nconst thead = document.querySelector('thead');\r\nconst tbody = document.querySelector('tbody');\r\nlet sortedBy = null;\r\nconst nameMap = {\r\n  'Name': 'string',\r\n  'Position': 'string',\r\n  'Office': 'string',\r\n  'Age': 'number',\r\n  'Salary': 'currency',\r\n};\r\n\r\n// Table sorting by clicking on the title\r\nthead.addEventListener('click', (e) => {\r\n  if (e.target.innerText === sortedBy) {\r\n    // reverse table\r\n    const reversed = [...tbody.rows].reverse();\r\n\r\n    tbody.append(...reversed);\r\n  } else {\r\n    // sort a-z by innerText column\r\n\r\n    let index;\r\n\r\n    for (let i = 0; i < thead.children[0].children.length; i++) {\r\n      if (e.target.textContent === thead.children[0].children[i].textContent) {\r\n        index = i;\r\n      }\r\n    }\r\n\r\n    const type = nameMap[e.target.innerText];\r\n\r\n    if (type === 'string') {\r\n      const sort = [...tbody.rows].sort((a, b) => {\r\n        return a.cells[index].innerText.localeCompare(b.cells[index].innerText);\r\n      });\r\n\r\n      tbody.append(...sort);\r\n    } else if (type === 'number') {\r\n      const sortNum = [...tbody.rows].sort((a, b) => {\r\n        return +(a.cells[index].innerText) - +(b.cells[index].innerText);\r\n      });\r\n\r\n      tbody.append(...sortNum);\r\n    } else {\r\n      const sortSalary = [...tbody.rows].sort((a, b) => {\r\n        return +a.cells[index].innerText.replace(/[^0-9]/g, '')\r\n          - +b.cells[index].innerText.replace(/[^0-9]/g, '');\r\n      });\r\n\r\n      tbody.append(...sortSalary);\r\n    }\r\n  }\r\n\r\n  sortedBy = e.target.innerText;\r\n});\r\n\r\n// When user clicks on a row, it should become selected.\r\ntbody.addEventListener('click', (e) => {\r\n  const item = e.target.parentNode;\r\n  const activeRow = tbody.querySelector('.active');\r\n\r\n  if (activeRow) {\r\n    activeRow.classList.remove('active');\r\n  }\r\n\r\n  item.classList = 'active';\r\n});\r\n\r\n// Add a form to the document\r\nconst countryArray = [\r\n  'Tokyo',\r\n  'Singapore',\r\n  'London',\r\n  'New York',\r\n  'Edinburg',\r\n  'San Francisco',\r\n];\r\n\r\nconst form = `\r\n  <form action=\"/\" method=\"post\" class=\"new-employee-form\">\r\n    <label for=\"name\">Name:\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        id=\"name\"\r\n        data-qa=\"name\"\r\n        required\r\n      >\r\n    </label>\r\n    <label for=\"position\">Position:\r\n      <input\r\n        name=\"position\"\r\n        type=\"text\"\r\n        id=\"position\"\r\n        data-qa=\"position\"\r\n        required\r\n      >\r\n    </label>\r\n    <label for=\"office\">Office:\r\n      <select name=\"office\" id=\"office\" data-qa=\"office\" required>\r\n        ${countryArray.map(country => `\r\n          <option value=\"${country}\">${country}</option>\r\n        `)}\r\n      </select>\r\n    </label>\r\n    <label for=\"age\">Age:\r\n      <input\r\n        name=\"age\"\r\n        type=\"number\"\r\n        id=\"age\"\r\n        min=\"18\"\r\n        max=\"90\"\r\n        step=\"1\"\r\n        data-qa=\"age\"\r\n        required\r\n      >\r\n    </label>\r\n    <label for=\"salary\">Salary:\r\n      <input\r\n        name=\"salary\"\r\n        type=\"number\"\r\n        id=\"salary\"\r\n        data-qa=\"salary\"\r\n        required\r\n      >\r\n    </label>\r\n    <button type=\"submit\" class=\"form_button\">Save to table</button>\r\n  </form>\r\n`;\r\n\r\nbody.insertAdjacentHTML('beforeend', form);\r\n\r\nconst pushNotification = (posTop, posRight, title, description, type) => {\r\n  const div = document.createElement('div');\r\n  const h2 = document.createElement('h2');\r\n  const p = document.createElement('p');\r\n\r\n  div.classList.add('notification', `${type}`);\r\n  div.style.top = posTop + 'px';\r\n  div.style.right = posRight + 'px';\r\n  div.setAttribute('data-qa', 'notification');\r\n\r\n  h2.classList.add('title');\r\n  h2.textContent = `${title}`;\r\n  p.textContent = `${description}`;\r\n\r\n  body.append(div);\r\n  div.append(h2, p);\r\n\r\n  setTimeout(() => {\r\n    div.remove();\r\n  }, 2000);\r\n};\r\n\r\n// Add new employees to the spreadsheet\r\nconst formButton = document.querySelector('.form_button');\r\nconst newEmployeeName = document.querySelector('#name');\r\nconst newEmployeePosition = document.querySelector('#position');\r\nconst newEmployeeOffice = document.querySelector('#office');\r\nconst newEmployeeAge = document.querySelector('#age');\r\nconst newEmployeeSalary = document.querySelector('#salary');\r\n\r\nconst addEmployee = () => {\r\n  const newTr = `\r\n  <td>${newEmployeeName.value.trim()}</td>\r\n  <td>${newEmployeePosition.value.trim()}</td>\r\n  <td>${newEmployeeOffice.value}</td>\r\n  <td>${newEmployeeAge.value}</td>\r\n  <td>${formSalary(+newEmployeeSalary.value)}</td>\r\n  `;\r\n\r\n  if (newEmployeeName.value.length < 4 || newEmployeeName.value.length === 0) {\r\n    pushNotification(450,\r\n      30,\r\n      'Wrong',\r\n      'Name has less then 4 digits or empty',\r\n      'error'\r\n    );\r\n    newEmployeeName.value = '';\r\n  } else if (newEmployeePosition.value.length < 4\r\n    || newEmployeePosition.value.length === 0) {\r\n    pushNotification(\r\n      550,\r\n      30,\r\n      'Wrong',\r\n      'Position has less then 4 digits or empty',\r\n      'error'\r\n    );\r\n    newEmployeePosition.value = '';\r\n  } else if (newEmployeeAge.value < 18 || newEmployeeAge.value > 90) {\r\n    pushNotification(650, 30, 'Wrong', 'Please, check your age!', 'error');\r\n    newEmployeeAge.value = '';\r\n  } else if (newEmployeeSalary.value.length === 0) {\r\n    pushNotification(750, 30, 'Wrong', 'Please, check your salary!', 'error');\r\n    newEmployeeSalary.value = '';\r\n  } else {\r\n    pushNotification(800, 30, 'Success', 'We are ready to add form', 'success');\r\n    newEmployeeName.value = '';\r\n    newEmployeePosition.value = '';\r\n    newEmployeeAge.value = '';\r\n    newEmployeeSalary.value = '';\r\n\r\n    tbody.insertAdjacentHTML('beforeend', newTr);\r\n  }\r\n};\r\n\r\nformButton.addEventListener('click', addEmployee);\r\n\r\n// Editing of table cells by double-clicking on it\r\n\r\ntbody.addEventListener('dblclick', (e) => {\r\n  const target = e.target;\r\n  const oldValue = target.textContent;\r\n\r\n  e.preventDefault();\r\n  target.textContent = '';\r\n\r\n  target.insertAdjacentHTML('afterbegin', `\r\n    <input type=\"text\" class=\"cell-input\" value =\"${oldValue}\">\r\n  `);\r\n\r\n  document.querySelector('.cell-input').focus();\r\n\r\n  document.querySelector('.cell-input').selectionStart\r\n    = document.querySelector('.cell-input').value.length;\r\n\r\n  document.querySelector('.cell-input').addEventListener('keydown',\r\n    function() {\r\n      if (event.keyCode === 13) {\r\n        if (document.querySelector('.cell-input').value === '') {\r\n          target.textContent = oldValue;\r\n\r\n          pushNotification(\r\n            500, 30, 'Wrong', 'Field is empty', 'error'\r\n          );\r\n        } else if (target.cellIndex === 3) {\r\n          document.querySelector('.cell-input').type = 'number';\r\n\r\n          target.textContent\r\n          = stringToNumber(document.querySelector('.cell-input').value)\r\n          || oldValue;\r\n        } else if (target.cellIndex === 4) {\r\n          document.querySelector('.cell-input').value\r\n          = document.querySelector('.cell-input').value.replace(/[^0-9]/g, '');\r\n\r\n          target.textContent\r\n          = formSalary(stringToNumber(document\r\n              .querySelector('.cell-input').value));\r\n        } else {\r\n          target.textContent = document.querySelector('.cell-input').value;\r\n\r\n          pushNotification(\r\n            700,\r\n            30,\r\n            'Success',\r\n            'Everything looks fine',\r\n            'success');\r\n        }\r\n        document.querySelector('.cell-input').remove();\r\n      }\r\n    });\r\n\r\n  document.querySelector('.cell-input').addEventListener('blur', function() {\r\n    if (document.querySelector('.cell-input').value === '') {\r\n      document.querySelector('.cell-input').replaceWith(oldValue);\r\n\r\n      pushNotification(\r\n        500, 30, 'Wrong', 'Field is empty', 'error'\r\n      );\r\n    } else if (target.cellIndex === 3) {\r\n      document.querySelector('.cell-input').type = 'number';\r\n\r\n      target.textContent\r\n      = stringToNumber(document.querySelector('.cell-input').value)\r\n      || oldValue;\r\n    } else if (target.cellIndex === 4) {\r\n      document.querySelector('.cell-input').value\r\n      = document.querySelector('.cell-input').value.replace(/[^0-9]/g, '');\r\n\r\n      target.textContent\r\n      = formSalary(stringToNumber(document.querySelector('.cell-input').value));\r\n    } else {\r\n      document.querySelector(\r\n        '.cell-input').replaceWith(document.querySelector('.cell-input').value);\r\n\r\n      pushNotification(700, 30, 'Success', 'Everything looks fine', 'success');\r\n    }\r\n  });\r\n});\r\n\r\nfunction stringToNumber(string) {\r\n  const resultNumber = string.split(',').join('').replace('$', '');\r\n\r\n  return +resultNumber;\r\n}\r\n\r\nfunction formSalary(value) {\r\n  return `$${value.toLocaleString('en-US')}`;\r\n};\r\n"]}